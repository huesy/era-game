# Root Makefile

# Include common configuration
include config.mk

# --------------------------------------------------------------------
# Subdirectories (add new projects here)
# --------------------------------------------------------------------
SUBDIRS = engine game

# --------------------------------------------------------------------
# Phony targets
# --------------------------------------------------------------------
.PHONY: all clean $(SUBDIRS)

# --------------------------------------------------------------------
# Default target
# --------------------------------------------------------------------
all: $(SUBDIRS)

# --------------------------------------------------------------------
# Build subdirectories
# --------------------------------------------------------------------
$(SUBDIRS):
	$(ECHO) "Building $@..."
	@$(MAKE) -C $@ BUILD_DIR=$(BUILD_DIR) DEBUG=$(DEBUG)

# --------------------------------------------------------------------
# Clean target
# --------------------------------------------------------------------
clean:
	$(ECHO) "Cleaning all build artifacts..."
	@$(RM) $(BUILD_DIR)
